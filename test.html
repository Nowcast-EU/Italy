<p>
<head>
  <meta charset="UTF-8">
  <style>
    :root {
      --middle-offset: 20px; /* ðŸ‘ˆ adjust this value to move the middle column right/left on desktop */
    }

    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
    }

    .row {
      display: grid;
      grid-template-columns: 60px auto 45px; /* fixed layout across devices */
      align-items: center;
      padding: 1px 0;
      width: 100%;
    }

    .left {
      display: flex;
      align-items: center;
      text-align: left;
    }

    .middle {
      text-align: left;
      padding-left: var(--middle-offset);
    }

    .right {
      text-align: right; /* ðŸ‘ˆ ensures the right-hand text aligns to box edge */
    }

    .circle {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      margin-right: 4px;
      flex-shrink: 0;
    }

    .divider {
      border-top: 1px solid #ccc;
      margin: 2px 0;
    }

    .page-break {
      page-break-after: always;
    }

    /* --- responsive adjustment for mobile --- */
    @media (max-width: 600px) {
      :root {
        --middle-offset: 10px; /* ðŸ‘ˆ smaller offset on mobile */
      }

      .row {
        grid-template-columns: 55px auto 40px; /* tighter layout for small screens */
      }
    }
  </style>
</head>
<body>

{{#if CDX}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #0000FF;"></div>
      <span style="color: #0000FF; font-weight: bold;">CDX:</span>
    </div>
    <div class="middle">{{CDX}}</div>
    <div class="right"><span style="color: {{Colour_DX}};"><i>{{DX%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if CSX}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #FF0000;"></div>
      <span style="color: #FF0000; font-weight: bold;">CSX:</span>
    </div>
    <div class="middle">{{CSX}}</div>
    <div class="right"><span style="color: {{Colour_SX}};"><i>{{SX%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if FdI}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #03386A;"></div>
      <span style="color: #03386A; font-weight: bold;">FdI:</span>
    </div>
    <div class="middle">{{FdI}}</div>
    <div class="right"><span style="color: {{Colour_F}};"><i>{{F%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if PD}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #EF1C27;"></div>
      <span style="color: #EF1C27; font-weight: bold;">PD:</span>
    </div>
    <div class="middle">{{PD}}</div>
    <div class="right"><span style="color: {{Colour_P}};"><i>{{P%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if M5S}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #FFD700;"></div>
      <span style="color: #FFD700; font-weight: bold;">M5S:</span>
    </div>
    <div class="middle">{{M5S}}</div>
    <div class="right"><span style="color: {{Colour_M}};"><i>{{M%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if Lega}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #008000;"></div>
      <span style="color: #008000; font-weight: bold;">Lega:</span>
    </div>
    <div class="middle">{{Lega}}</div>
    <div class="right"><span style="color: {{Colour_L}};"><i>{{L%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if Forza}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #3399ff;"></div>
      <span style="color: #3399ff; font-weight: bold;">Forza:</span>
    </div>
    <div class="middle">{{Forza}}</div>
    <div class="right"><span style="color: {{Colour_Fz}};"><i>{{Fz%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if AVS}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #CC0066;"></div>
      <span style="color: #CC0066; font-weight: bold;">AVS:</span>
    </div>
    <div class="middle">{{AVS}}</div>
    <div class="right"><span style="color: {{Colour_A}};"><i>{{A%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if Azione}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #0039AA;"></div>
      <span style="color: #0039AA; font-weight: bold;">Azione:</span>
    </div>
    <div class="middle">{{Azione}}</div>
    <div class="right"><span style="color: {{Colour_Az}};"><i>{{Az%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

{{#if OTH}}
  <div class="row page-break">
    <div class="left">
      <div class="circle" style="background-color: #999999;"></div>
      <span style="color: #999999; font-weight: bold;">OTH:</span>
    </div>
    <div class="middle">{{OTH}}</div>
    <div class="right"><span style="color: {{Colour_O}};"><i>{{O%}}</i></span></div>
  </div>
  <div class="divider"></div>
{{/if}}

</body>
</p>

<div style="margin-top: 5px;">
  <div style="position: relative; width: 13rem; height: 20px; border-radius: 1px; padding-top: 5px; overflow: hidden;">
    <!-- Vertical dashed line at 50% -->
    <div style="
      position: absolute;
      top: 0;
      left: 50%;
      height: 100%;
      width: 0;
      border-left: 2px dashed black;
      z-index: 2;">
    </div>

    <!-- Stacked bar -->
    <div style="display: flex; height: 100%; width: 100%; position: relative; z-index: 1;">
      <div style="width: {{M5S}}; background-color: #FFD700;"></div>
      <div style="width: {{AVS}}; background-color: #CC0066;"></div>
      <div style="width: {{PD}}; background-color: #EF1C27;"></div>
      <div style="width: {{CSX}}; background-color: #FF0000;"></div>
      <div style="width: {{Azione}}; background-color: #0039AA;"></div>
      <div style="width: {{OTH}}; background-color: #DCDCDC;"></div>
      <div style="width: {{CDX}}; background-color: #0000FF;"></div>
      <div style="width: {{Forza}}; background-color: #3399ff;"></div>
      <div style="width: {{FdI}}; background-color: #03386A;"></div>
      <div style="width: {{Lega}}; background-color: #008000;"></div>
    </div>
  </div>
</div>
